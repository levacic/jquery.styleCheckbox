(function(f){var e={replacementClass:"styled-checkbox",focusClass:"styled-checkbox-focus",activeClass:"styled-checkbox-active",checkedClass:"styled-checkbox-checked"},d=0,b=1,c=function(j,h){var i=f("<div/>"),k=h.is("[checked]"),l=false,g,n,m=function(){if(l){i.removeClass(j.activeClass);l=false}};i.addClass(j.replacementClass);i.data("removeActiveHandler",m);if(k){i.addClass(j.checkedClass)}if(h.is("[tabindex]")){i.attr("tabindex",h.attr("tabindex"));h.removeAttr("tabindex")}if(h.is("[id]")&&h.attr("id")){g=f('label[for="'+h.attr("id")+'"]');i.data("label",g)}else{g=f()}n=i;n=n.add(g);n.on("mousedown.styledCheckbox",function(o){if(o.which===b){i.addClass(j.activeClass);l=true}}).on("click.styledCheckbox",function(){i.removeClass(j.activeClass);if(k){k=false;h.removeAttr("checked");i.removeClass(j.checkedClass)}else{k=true;h.attr("checked","checked");i.addClass(j.checkedClass)}}).on("focusin.styledCheckbox",function(){i.addClass(j.focusClass)}).on("focusout.styledCheckbox",function(){i.removeClass(j.focusClass)}).on("keydown.styledCheckbox",function(o){if(o.keyCode===32){i.addClass(j.activeClass)}}).on("keyup.styledCheckbox",function(o){if(o.keyCode===32){i.removeClass(j.activeClass).click()}});f(document).on("mouseup.styledCheckbox",m);++d;return i},a={init:function(g){var h=f.extend({},e,g);return this.each(function(){var l=f(this),k=l.is("input:checkbox"),j=l.data("replacement"),i;if(!k||j){return}i=c(h,l);l.css("display","none").data("replacement",i);i.insertAfter(l)})},destroy:function(){return this.each(function(){var g=f(this).data("replacement"),i=f(this).is("input:checkbox"),h;if(!f(this).is("input:checkbox")){return}if(!i||!g){return}f(this).css("display","").removeData("replacement");if(g.is("[tabindex]")){f(this).attr("tabindex",g.attr("tabindex"))}h=g.data("removeActiveHandler");f(document).off("mouseup.styledCheckbox",h);label=g.data("label");if(label){f(label).off(".styledCheckbox")}g.remove();--d;if(!d){f(document).off("mouseup.styledCheckbox")}})}};f.fn.styleCheckbox=function(g){if(a[g]){return a[g].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof g==="object"||!g){return a.init.apply(this,arguments)}else{f.error("Method "+g+" does not exist on jQuery.styleCheckbox")}}}})(jQuery);